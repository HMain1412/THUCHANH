<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh s√°ch ng∆∞·ªùi d√πng</title>
    <!-- Th√™m CSS c·ªßa Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>

        .custom-table thead th {
            background-color: #4a5568; 
            color: white;
            text-align: center;
        }
        .custom-table tbody tr:nth-child(even) {
            background-color: #f7fafc; 
        }
        .custom-table tbody tr:hover {
            background-color: #e2e8f0; 
        }
        .icon-btn {
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1.2em;
            color: #4a5568;
        }
        .icon-btn:hover {
            color: #2d3748;
        }
        .text-center {
            color: #718096; 
        }

    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4"><%= data.title %></h1>
        <table class="table custom-table border rounded">
            <thead>
                <tr>
                    <th scope="col">STT</th>
                    <th scope="col">Username</th>
                    <th scope="col">Full name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Setting</th>
                </tr>
            </thead>
            <tbody>
                <% if (data.rows && data.rows.length > 0) { %> <!-- Ki·ªÉm tra  rows c√≥ d·ªØ li·ªáu kh√¥ng -->
                    <% data.rows.forEach((user, index) => { %> <!-- L·∫∑p qua ds√°ch ng∆∞·ªùi d√πng -->
                        <tr class="text-center">
                            <th scope="row"><%= index + 1 %></th>
                            <td><%= user.username %></td>
                            <td><%= user.fullname %></td>
                            <td><%= user.address %></td>
                            <td>
                                <a href="/deltauser/<%= user.id %>" class="icon-btn" title="Xem chi ti·∫øt">üëÅÔ∏è</a>
                                <a href="/edituser/<%= user.id %>" class="icon-btn" title="Ch·ªânh s·ª≠a">‚úèÔ∏è</a>
                                <!-- Form x√≥a ng∆∞·ªùi d√πng -->
                                <form action="/deleteuser" method="POST" style="display:inline-block;" onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ng∆∞·ªùi d√πng n√†y kh√¥ng?');">
                                    <input type="hidden" name="id" value="<%= user.id %>" />
                                    <button type="submit" class="icon-btn" title="X√≥a">üóëÔ∏è</button>
                                </form>
                            </td>
                        </tr>
                    <% }) %> <!-- K·∫øt th√∫c v√≤ng l·∫∑p -->
                <% } else { %> 
                    <tr>
                        <td colspan="5" class="text-center">Kh√¥ng c√≥ ng∆∞·ªùi d√πng n√†o ƒë∆∞·ª£c t√¨m th·∫•y.</td>
                    </tr>
                <% } %> <!-- N·∫øu kh√¥ng c√≥ d·ªØ li·ªáu -->
            </tbody>
        </table>
    </div>

    <!-- Th√™m JavaScript c·ªßa Bootstrap (t√πy ch·ªçn, n·∫øu c·∫ßn) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
